[GNSS-SDR]

; ===== Global =====
GNSS-SDR.internal_fs_sps=12000000
GNSS-SDR.pre_2009_file=false

Receiver.sources_count=2

; ===================== SOURCE 0: GPS L1 + GAL E1 (RF center 1568.286 MHz) =====================
SignalSource0.implementation=File_Signal_Source
SignalSource0.filename=GPS_BDS_GAL_L1CA_L1C_B1C_B1I_E1.bin
SignalSource0.item_type=ibyte
SignalSource0.sampling_frequency=18479000
SignalSource0.samples=0
SignalSource0.if_frequency=0
SignalSource0.swap_iq=0
SignalSource0.repeat=false

SignalConditioner0.implementation=Signal_Conditioner
DataTypeAdapter0.implementation=Ibyte_To_Complex

InputFilter0.implementation=Freq_Xlating_Fir_Filter
InputFilter0.input_item_type=gr_complex
InputFilter0.output_item_type=gr_complex
InputFilter0.taps_item_type=float
InputFilter0.IF=+7134000                 ; GPS L1/Gal E1 at 1575.420 MHz => +7.134 MHz from 1568.286 center
InputFilter0.sampling_frequency=18479000
InputFilter0.decimation_factor=1         
InputFilter0.filter_type=lowpass
InputFilter0.bw=2600000
InputFilter0.tw=800000

Resampler0.implementation=Direct_Resampler
Resampler0.sample_freq_in=18479000
Resampler0.sample_freq_out=12000000
Resampler0.item_type=gr_complex

; ===================== SOURCE 1: BeiDou B1I (RF center 1568.286 MHz) =====================
SignalSource1.implementation=File_Signal_Source
SignalSource1.filename=GPS_BDS_GAL_L1CA_L1C_B1C_B1I_E1.bin
SignalSource1.item_type=ibyte
SignalSource1.sampling_frequency=18479000
SignalSource1.samples=0
SignalSource1.if_frequency=0
SignalSource1.swap_iq=0
SignalSource1.repeat=false

SignalConditioner1.implementation=Signal_Conditioner
DataTypeAdapter1.implementation=Ibyte_To_Complex

InputFilter1.implementation=Freq_Xlating_Fir_Filter
InputFilter1.input_item_type=gr_complex
InputFilter1.output_item_type=gr_complex
InputFilter1.taps_item_type=float
InputFilter1.IF=-7188000                ; B1I at 1561.098 MHz => −7.188 MHz from 1568.286 center
InputFilter1.sampling_frequency=18479000
InputFilter1.decimation_factor=1
InputFilter1.filter_type=lowpass
InputFilter1.bw=2600000
InputFilter1.tw=800000

Resampler1.implementation=Direct_Resampler
Resampler1.sample_freq_in=18479000
Resampler1.sample_freq_out=12000000
Resampler1.item_type=gr_complex

; ===================== CHANNELS (GPS 8, GAL 8, BDS 8) =====================
Channels_1C.count=8
Channels_1B.count=8
Channels_B1.count=8

Channels_1C.RF_channel_ID=0
Channels_1B.RF_channel_ID=0
Channels_B1.RF_channel_ID=1

; concurrent acquisitions (<=24)
Channels.in_acquisition=24

; ----- Explicit per-channel source binding -----
; GPS 0..7  → Source 0
Channel0.SignalSource_ID=0
Channel1.SignalSource_ID=0
Channel2.SignalSource_ID=0
Channel3.SignalSource_ID=0
Channel4.SignalSource_ID=0
Channel5.SignalSource_ID=0
Channel6.SignalSource_ID=0
Channel7.SignalSource_ID=0

; GAL 8..15 → Source 0
Channel8.SignalSource_ID=0
Channel9.SignalSource_ID=0
Channel10.SignalSource_ID=0
Channel11.SignalSource_ID=0
Channel12.SignalSource_ID=0
Channel13.SignalSource_ID=0
Channel14.SignalSource_ID=0
Channel15.SignalSource_ID=0

; BDS 16..23 → Source 1
Channel16.SignalSource_ID=1
Channel17.SignalSource_ID=1
Channel18.SignalSource_ID=1
Channel19.SignalSource_ID=1
Channel20.SignalSource_ID=1
Channel21.SignalSource_ID=1
Channel22.SignalSource_ID=1
Channel23.SignalSource_ID=1

; ===================== ACQUISITION =====================
; GPS
Acquisition_1C.implementation=GPS_L1_CA_PCPS_Acquisition
Acquisition_1C.doppler_max=5000
Acquisition_1C.doppler_step=250
Acquisition_1C.pfa=0.01
Acquisition_1C.coherent_integration_time_ms=1
Acquisition_1C.max_dwells=1
Acquisition_1C.blocking=true

; Galileo
Acquisition_1B.implementation=Galileo_E1_PCPS_Ambiguous_Acquisition
Acquisition_1B.pfa=0.01
Acquisition_1B.doppler_max=5000
Acquisition_1B.doppler_step=250
Acquisition_1B.coherent_integration_time_ms=4
Acquisition_1B.max_dwells=1
Acquisition_1B.blocking=true

; BeiDou
Acquisition_B1.implementation=BEIDOU_B1I_PCPS_Acquisition
Acquisition_B1.item_type=gr_complex
Acquisition_B1.pfa=0.01
Acquisition_B1.doppler_max=10000
Acquisition_B1.doppler_step=250
Acquisition_B1.blocking=true

; ===================== TRACKING =====================
Tracking_1C.implementation=GPS_L1_CA_DLL_PLL_Tracking
Tracking_1C.item_type=gr_complex
Tracking_1C.extend_correlation_symbols=20
Tracking_1C.early_late_space_chips=0.5
Tracking_1C.early_late_space_narrow_chips=0.1
Tracking_1C.pll_bw_hz=35
Tracking_1C.dll_bw_hz=2.0
Tracking_1C.pll_bw_narrow_hz=5.0
Tracking_1C.dll_bw_narrow_hz=0.50
Tracking_1C.fll_bw_hz=10
Tracking_1C.enable_fll_pull_in=true
Tracking_1C.enable_fll_steady_state=false

Tracking_1B.implementation=Galileo_E1_DLL_PLL_VEML_Tracking
Tracking_1B.item_type=gr_complex
Tracking_1B.track_pilot=true
Tracking_1B.pll_bw_hz=15.0
Tracking_1B.dll_bw_hz=0.75
Tracking_1B.early_late_space_chips=0.25
Tracking_1B.early_late_space_narrow_chips=0.15
Tracking_1B.very_early_late_space_chips=0.5
Tracking_1B.very_early_late_space_narrow_chips=0.5
Tracking_1B.pll_bw_narrow_hz=5.0
Tracking_1B.dll_bw_narrow_hz=0.2
Tracking_1B.extend_correlation_symbols=5
Tracking_1B.enable_fll_pull_in=true
Tracking_1B.enable_fll_steady_state=false
Tracking_1B.fll_bw_hz=10

Tracking_B1.implementation=BEIDOU_B1I_DLL_PLL_Tracking
Tracking_B1.item_type=gr_complex
Tracking_B1.pll_bw_hz=20.0
Tracking_B1.dll_bw_hz=2.0
Tracking_B1.early_late_space_chips=0.5

; ===================== TELEMETRY / PVT =====================
TelemetryDecoder_1C.implementation=GPS_L1_CA_Telemetry_Decoder
TelemetryDecoder_1B.implementation=Galileo_E1B_Telemetry_Decoder
TelemetryDecoder_B1.implementation=BEIDOU_B1I_Telemetry_Decoder

Observables.implementation=Hybrid_Observables
PVT.implementation=RTKLIB_PVT
PVT.positioning_mode=Single
PVT.output_rate_ms=100
PVT.display_rate_ms=500
PVT.rinex_version=3.03
PVT.nmea_enable=true

